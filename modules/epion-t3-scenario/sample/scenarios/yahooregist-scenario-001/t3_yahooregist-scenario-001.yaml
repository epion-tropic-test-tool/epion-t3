t3: "1.0"
type: "scenario"
info:
    id: "yahooregist-scenario-001"
    version: "1.0.0"
    summary: "Yahooアカウント新規作成"
    description: "Yahooの新規アカウント取得用シナリオ"
flows:
  - type: "ReadFileIterate"
    target: "${scenarioDir}/test.csv"
    fileType: "csv"
    encoding: "UTF-8"
    lineSeparator: "LF"
    wrapstring: "DC"
    children:
      - type: CommandExecute
        ref: process-0001
      - type: CommandExecute
        ref: process-0002
      - type: CommandExecute
        ref: process-0003
      - type: CommandExecute
        ref: process-0010
      - type: CommandExecute
        ref: process-0020
      - type: CommandExecute
        ref: process-0021
      - type: CommandExecute
        ref: process-0022
      - type: CommandExecute
        ref: process-0030
      - type: CommandExecute
        ref: process-0031
      - type: CommandExecute
        ref: process-0040
      - type: CommandExecute
        ref: process-0050
      - type: CommandExecute
        ref: process-0060
      - type: CommandExecute
        ref: process-0061
      - type: CommandExecute
        ref: process-0070
      - type: CommandExecute
        ref: process-0080
      - type: CommandExecute
        ref: process-0090
      - type: CommandExecute
        ref: process-0091
      - type: CommandExecute
        ref: process-0100
      - type: CommandExecute
        ref: process-0110
      - type: CommandExecute
        ref: process-0120
      - type: CommandExecute
        ref: process-0130
commands:
  - id: process-0001
    description: "ランダムな文字列を作成."
    summary : "ランダムな文字列を作成."
    command: "GenerateRandomWord"
    target : "mailaddressBefore"
    length: 20
  - id: process-0002
    description: "ランダムな文字列を作成."
    summary : "ランダムな文字列を作成."
    command: "GenerateRandomString"
    target : "mailaddressAfter"
    length: 5
  - id: process-0003
    description: "メアド接頭辞作成."
    summary : "メアドの接頭辞を作成する."
    command: "StringConcat"
    target : "mailaddress"
    referenceVariables : ["scenario.mailaddressBefore", "_", "scenario.mailaddressAfter"]
  - id: process-0010
    description: "SeleniumのWebDriverを開始します."
    summary : "SeleniumのWebDriverを開始します."
    command: "StartLocalWebDriver"
    browser: chrome
    variableName: WEBDRIVER_1
    driverPath: "/Users/takashimanozomu/work/91_webdrivers/chromedriver"
  - id: process-0020
    summary : Get Url.
    description: Get Url.
    command: "WebDriverGet"
    target : "https://www.yahoo.co.jp/"
    refWebDriver: WEBDRIVER_1
  - id: process-0021
    summary : Get Url.
    description: Get Url.
    command: "WebDriverClick"
    target : "新規取得"
    selector : "linkText"
    refWebDriver: WEBDRIVER_1
  - id: process-0022
    summary : Get Url.
    description: Get Url.
    command: "WebDriverClick"
    target : "メールアドレスなしで登録する"
    selector : "linkText"
    refWebDriver: WEBDRIVER_1
  - id: process-0030
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverClick"
    target : "yid"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0031
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeys"
    target : "yid"
    value : "${scenario.mailaddress}"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0040
    summary : Sendkeys Password.
    description: Sendkeys Password.
    command: "WebDriverSendKeys"
    target : "passwd"
    value : "Aa123456"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0050
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeys"
    target : "postCode"
    value : "1730037"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0060
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "GenerateRandomBirthdayString"
    target : "birthday"
    format : "yyyyMMdd"
  - id: process-0061
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeys"
    target : "birthday"
    value : "${scenario.birthday}"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0070
    summary : Sendeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeys"
    target : "dispname"
    value : "テスト　太郎"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0080
    summary : Sendeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeysSpace"
    target : "male"
    value : null
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0090
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeys"
    target : "pw_a"
    value : "東京"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0091
    summary : "Captcha回避まで待機"
    description: "Captcha回避まで待機"
    command: "ConsoleInput"
    target : "Captchaに表示された文字列を入力し終えたら「y」を入力してください"
    value : "captchaInputFlg"
  - id: process-0100
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverSendKeys"
    target : "secword"
    value : "あいうえおか"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0110
    summary : SendKeys Yahoo ID.
    description: SendKeys Yahoo ID.
    command: "WebDriverClick"
    target : "btnSubmit"
    selector : "id"
    refWebDriver: WEBDRIVER_1
  - id: process-0120
    summary : "スクリーンショットをとる."
    description: "スクリーンショットをとる."
    command: "WebDriverScreenShot"
    refWebDriver: WEBDRIVER_1
  - id: process-0130
    summary : "WebDriverを閉じる."
    description: "WebDriverを閉じる."
    command: "EndLocalWebDriver"
    refWebDriver: WEBDRIVER_1
