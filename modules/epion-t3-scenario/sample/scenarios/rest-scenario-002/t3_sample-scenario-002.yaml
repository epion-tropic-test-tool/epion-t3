t3: '1.0'
type: scenario
info:
    id: rest-scenario-002
    version: 1.0.0
    summary: Rest Scenario 002
    description: This is a typical example scenario of the tool.
flows:
  - ref : command-0001
    type : CommandExecute
  - ref : command-0002
    type : CommandExecute
  - ref : command-0003
    type : CommandExecute
  - ref : command-0004
    type : CommandExecute
  - ref : command-0005
    type : CommandExecute
  - ref : command-0006
    type : CommandExecute
  - ref : command-0007
    type : CommandExecute
  - ref : command-0008
    type : CommandExecute
  - ref : command-0100
    type : CommandExecute
commands:
  - id: command-0001
    description: "ランダムな文字列を作成."
    summary : "ランダムな文字列を作成."
    command: "GenerateRandomWord"
    target : "mailaddressBefore"
    length: 20
  - id: command-0002
    description: "ランダムな文字列を作成."
    summary : "ランダムな文字列を作成."
    command: "GenerateRandomString"
    target : "mailaddressAfter"
    length: 5
  - id: command-0003
    description: "メアド接頭辞作成."
    summary : "メアドの接頭辞を作成する."
    command: "StringConcat"
    target : "mailaddress"
    referenceVariables : ["scenario.mailaddressBefore", "_", "scenario.mailaddressAfter"]
  - id: command-0004
    description: "姓を作成する."
    summary : "姓を作成する."
    command: "GenerateRandomJapaneseLastName"
    target : "lastName"
  - id: command-0005
    description: "名を作成する."
    summary : "名を作成する."
    command: "GenerateRandomJapaneseFirstName"
    target : "firstName"
  - id: command-0006
    description: "姓名を作成する."
    summary : "姓名を作成する."
    command: "StringConcat"
    target : "name"
    referenceVariables : ["scenario.lastName", "　", "scenario.firstName"]
  - id: command-0007
    description: "ランダムな文字列を作成."
    summary : "ランダムな文字列を作成."
    command: "GenerateRandomString"
    target : "password"
    length: 10
  - id: command-0008
    description: "郵便番号を作成."
    summary : "ランダムな文字列を作成."
    command: "GenerateRandomJapaneseZipCode"
    target : "zipcode"
  - id: command-0100
    summary : REST API Call.
    description: REST API Call.
    command: "ExecuteRestApi"
    request:
        method: post
        targetUrl: http://localhost:8080/api/v1/accounts
        headers :
          "Content-Type" : "application/json;charset=UTF-8"
        body: |
          {
              "mailaddress" : "${scenario.mailaddress}@yahoo.co.jp",
              "first_name" : "${scenario.firstName}",
              "last_name" : "${scenario.lastName}",
              "zip_code" : "${scenario.zipcode}",
              "yahoo_id" : "${scenario.mailaddress}",
              "yahoo_password" : "${scenario.password}"
          }
